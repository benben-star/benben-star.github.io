---
layout:     post
title:      Linux高级命令
subtitle:   重定向-链接-查找
date:       2020-06-04
author:     BB
header-img: img/linux.jpg
catalog: true
tags:
    - Linux
---


1. 重定向命令
==========

**学习目标**

-   能够使用重定向命令将终端显示内容重定向到文件

* * * * *

### 1.1 重定向命令的介绍 

重定向也称为输出重定向，把在终端执行命令的结果保存到目标文件。

### 1.2 重定向命令的使用 

| 命令 | 说明                                                       |
| ---- | ---------------------------------------------------------- |
| \>   | 如果文件存在会覆盖原有文件内容，相当于文件操作中的‘w’模式  |
| \>\> | 如果文件存在会追加写入文件末尾，相当于文件操作中的‘a’ 模式 |




**重定向命令效果图:**

![重定向命令](https://www.hualigs.cn/image/60963ddb61ef5.jpg)

![重定向命令](https://www.hualigs.cn/image/60963de02f3c2.jpg)

**说明:**

只要在终端能显示信息的命令都可以使用重定向，比如: tree

### 1.3 小结 

-   终端内容保存到文件使用重定向有两种方式: **\>** 和 **\>\>**
-   **\>** 表示每次只写入最新的数据，原有数据不保留。
-   **\>\>** 表示每次在原有数据的基础上进行追加，原有数据会保留。







2. 查看文件内容命令
================

**学习目标**

-   能够说出查看大文件分屏显示使用的命令

* * * * *

### 2.1 查看文件内容命令的使用 

| 命令 | 说明             |
| ---- | ---------------- |
| cat  | 查看小型文件     |
| more | 分屏查看大型文件 |



**cat命令的效果图**

![cat命令](imgs/cat.png)

**说明:**

-   cat命令结合重定向可以完成多个文件的合并
-   gedit 文件编辑命令，可以查看和编辑文件

**more命令的效果图**

当查看内容信息过长无法在一屏上显示时，可以使用 more
命令在终端分屏显示文件内容。

![more命令](https://www.hualigs.cn/image/60963ddc63367.jpg)

**操作键说明:**

| 操作键 | 说明           |
| ------ | -------------- |
| 空格   | 显示下一屏信息 |
| 回车   | 显示下一行信息 |
| b      | 显示上一屏信息 |
| f      | 显示下一屏信息 |
| q      | 退出           |



### 2.2 管道(|)命令的使用 

管道(\|)：一个命令的输出可以通过管道做为另一个命令的输入，可以理解成是一个容器，存放在终端显示的内容。

**管道命令的效果图:**

![管道命令](https://www.hualigs.cn/image/60963de06230d.jpg)

**说明:**

管道(\|)一般结合 more 命令使用，主要是分配查看终端显示内容。

### 2.3 小结 

-   查看小文件使用 **cat** 命令
-   分屏查看大型文件使用 **more** 命令，
-   查看终端显示内容并分屏展示，使用 **管道(|)** 结合 **more** ../linux高级命令/链接命令.html)







3. 链接命令
========

**学习目标**

-   能够说出软链接的创建方式
-   能够说出硬链接的创建方式

* * * * *

### 3.1 链接命令的介绍 

链接命令是创建链接文件，链接文件分为:

- 软链接

-   硬链接

  | 命令  | 说明       |
  | ----- | ---------- |
  | ln -s | 创建软链接 |
  | ln    | 创建硬链接 |
  
  

### 3.2 软链接 

类似于**Windows下的快捷方式**，当一个源文件的目录层级比较深，我们想要方便使用它可以给源文件创建一个软链接。

**软链接效果图:**

![软链接](https://www.hualigs.cn/image/60963de048398.jpg)

**注意点:**

-   **如果软链接和源文件不在同一个目录，源文件要使用绝对路径，不能使用相对路径。**
-   **删除源文件则软链接失效**
-   **可以给目录创建软链接**

### 3.3 软链接小结 

-   软链接的作用是方便文件的快速访问，比如:给一个复杂路径下的文件创建一个软链接，以后就可以通过软链接完成快速访问操作。
-   创建软链接命令格式: ln -s 源文件路径(使用绝对路径) 软链接

### 3.4 硬链接 

类似于**源文件的一个别名**，也就是说这两个名字指向的是同一个文件数据。

![硬链接](https://www.hualigs.cn/image/60963dd945156.jpg)

**硬链接效果图:**

![硬链接](https://www.hualigs.cn/image/60963de079901.jpg)

**注意点:**

-   **创建硬链接使用相对路径和绝对路径都可以**
-   **删除源文件，硬链接还可以访问到数据。**
-   **创建硬链接，硬链接数会加1，删除源文件或者硬链接，硬链接数会减1。**
-   **创建软链接，硬链接数不会加1**
-   **不能给目录创建硬链接**

**硬链接数:**

**硬链接数就是文件数据被文件名使用的次数, 好比引用计数**

### 3.5 硬链接小结 

-   硬链接的作用是可以给重要文件创建硬链接，能够防止文件数据被误删。
-   删除源文件，软链接失效，但是硬链接依然可以使用。
-   创建硬链接命令格式: ln 源文件路径 硬链接







4. 文本搜索命令
============

**学习目标**

-   能够知道文本搜索使用的命令

* * * * *

### 4.1 grep命令的使用 

| 命令 | 说明     |
| ---- | -------- |
| grep | 文本搜索 |



**grep命令效果图:**

![grep命令](https://www.hualigs.cn/image/60963dd4de4d1.jpg)

### 4.2 grep命令选项的使用 

| 命令选项 | 说明                       |
| -------- | -------------------------- |
| -I       | 忽略大小写                 |
| -n       | 显示匹配行号               |
| -v       | 显示不包含匹配文本的所有行 |



### 4.3 grep命令结合正则表达式的使用 

| 正则表达式 | 说明                   |
| ---------- | ---------------------- |
| ^          | 以指定字符串开头       |
| $          | 以指定字符串结尾       |
| .          | 匹配一个非换行符的字符 |



### 4.4 扩展 

-   **grep**命令还可以文本搜索管道中的内容，比如: **ls / | grep ‘lib’**
-   在使用 **grep** 命令的时候还可以省略搜索内容的引号，比如: **ls / |
    grep lib**， **grep hello 1.txt**

### 4.5 小结 

-   grep 命令是完成文本搜索操作的
-   文本搜索的命令格式: grep 选项 文本搜索内容







5. 查找文件命令
============

**学习目标**

-   能够说出查找文件使用的命令

* * * * *

### 5.1 find命令及选项的使用 

| 命令 | 说明                           |
| ---- | ------------------------------ |
| find | 在指定目录下查找文件(包括目录) |



**find命令选项:**

| 选项  | 说明                         |
| ----- | ---------------------------- |
| -name | 根据文件名(包括目录名)字查找 |



**find命令及选项:**

![find命令及选项](https://www.hualigs.cn/image/60963dd30a1e9.jpg)

### 5.2 find命令结合通配符的使用 

**通配符:**

是一种特殊语句，主要有星号(\*)和问号(?)，用来模糊搜索文件

| 通配符 | 说明                  |
| ------ | --------------------- |
| *      | 代表0个或多个任意字符 |
| ?      | 代表任意一个字符      |

​         

**\*通配符的效果图:**

![通配符](https://www.hualigs.cn/image/60963dda3a773.jpg)

**?通配符的效果图:**

![通配符](https://www.hualigs.cn/image/60963dda3b4fe.jpg)

**扩展:**

通配符不仅能结合 **find** 命令使用，还可以结合其它命令使用, 比如:
**ls、mv、cp** 等，这里需要注意只有 **find**
命令使用通配符需要加上引号。

**扩展效果图:**

![find扩展](https://www.hualigs.cn/image/60963ddef38a3.jpg)

### 5.3 小结 

-   find命令是完成查找文件操作的
-   查找文件的命令格式: find 指定查找目录 -name "文件名"